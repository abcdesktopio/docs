
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://www.abcdesktop.io/setup/novnc/">
      
      <link rel="icon" href="/img/abcdesktop128x128.ico">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.3.2">
    
    
      
        <title>Hands-on with no-VNC HTML5 - www.abcdesktop.io</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.24c991ad.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
  



  
  



  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-189502871-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#use-novnc-as-vnc-client" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="www.abcdesktop.io" class="md-header__button md-logo" aria-label="www.abcdesktop.io" data-md-component="logo">
      
  <img src="/img/abcdesktop.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            www.abcdesktop.io
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Hands-on with no-VNC HTML5
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/abcdesktopio/docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="www.abcdesktop.io" class="md-nav__button md-logo" aria-label="www.abcdesktop.io" data-md-component="logo">
      
  <img src="/img/abcdesktop.svg" alt="logo">

    </a>
    www.abcdesktop.io
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/abcdesktopio/docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/howtodolabsexercices/" class="md-nav__link">
        How to do labs and exercices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/opensource/" class="md-nav__link">
        Open source
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/authors/" class="md-nav__link">
        Authors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/gnu-gpl-v2.0/" class="md-nav__link">
        Licence
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../requirements/" class="md-nav__link">
        Requirements
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          GUI apps on Docker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="GUI apps on Docker" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          GUI apps on Docker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../guiappsoddocker/" class="md-nav__link">
        VDI on Docker, related projets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vnc/" class="md-nav__link">
        Hands-on with VNC client
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Hands-on with no-VNC HTML5
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Hands-on with no-VNC HTML5
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#novnc-description" class="md-nav__link">
    noVNC description
  </a>
  
    <nav class="md-nav" aria-label="noVNC description">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#browser-requirements" class="md-nav__link">
    Browser Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    Features
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-shared-volume-myshared" class="md-nav__link">
    Create a shared volume myshared
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start-the-first-container-myx11server" class="md-nav__link">
    Start the first container myx11server
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-the-ws-tcp-bridge" class="md-nav__link">
    Install the ws-tcp-bridge
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-the-ip-address-on-your-first-container-myx11server" class="md-nav__link">
    Get the ip address on your first container myx11server
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-new-container-webserver" class="md-nav__link">
    Create a new container webserver
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#check-that-the-container-webserver-can-ping-the-container-myx11server" class="md-nav__link">
    Check that the container webserver can ping the container myx11server
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#edit-the-nginx-configuration-file" class="md-nav__link">
    Edit the nginx configuration file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connect-to-your-nginx-website" class="md-nav__link">
    Connect to your nginx website
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-libreoffice-as-a-docker-application" class="md-nav__link">
    Install libreoffice as a docker application
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-the-windows-manager-openbox-on-your-myx11server-container" class="md-nav__link">
    Install the windows manager openbox on your myx11server container
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/play_sound_in_docker/" class="md-nav__link">
        Play sound in docker to a webprojet
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Architecture
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Architecture" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Architecture
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_2" type="checkbox" id="__nav_6_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_2">
          Core
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Core
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/nginx/" class="md-nav__link">
        Nginx
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/pyos/" class="md-nav__link">
        Pyos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/mongodb/" class="md-nav__link">
        Mongodb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/memcached/" class="md-nav__link">
        Memcached
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/speedtest/" class="md-nav__link">
        Speedtest
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core/ocuser/" class="md-nav__link">
        User
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_3" type="checkbox" id="__nav_6_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_3">
          Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Services" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../services/spawner-service/" class="md-nav__link">
        Spawner-service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../services/file-service/" class="md-nav__link">
        File-service
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Setup guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Setup guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Setup guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1" type="checkbox" id="__nav_7_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_1">
          Docker (non-cluster)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Docker (non-cluster)" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_1">
          <span class="md-nav__icon md-icon"></span>
          Docker (non-cluster)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dockermode/" class="md-nav__link">
        Install abcdesktop for docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../uninstalldockermode/" class="md-nav__link">
        Uninstall abcdesktop for docker
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2" type="checkbox" id="__nav_7_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_2">
          Kubernetes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Kubernetes" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          Kubernetes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2_1" type="checkbox" id="__nav_7_2_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_2_1">
          Requirements
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Requirements" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_2_1">
          <span class="md-nav__icon md-icon"></span>
          Requirements
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../k8slinuxinstallation/" class="md-nav__link">
        Kubernetes on GNU/Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../k8smacosinstallation/" class="md-nav__link">
        Kubernetes on MacOS/X
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../k8swindows10installation/" class="md-nav__link">
        Kubernetes on Windows 10
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetesmode/" class="md-nav__link">
        Setup Kubernetes for GNU/Linux only
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_abcdesktop/" class="md-nav__link">
        Setup abcdesktop for Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_abcdesktop_applications/" class="md-nav__link">
        Setup applications for abcdesktop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../uninstall_kubernetes/" class="md-nav__link">
        Uninstall abcdesktop
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_3" type="checkbox" id="__nav_7_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_3">
          Kubernetes add-ons
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Kubernetes add-ons" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_3">
          <span class="md-nav__icon md-icon"></span>
          Kubernetes add-ons
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_networkpolicies/" class="md-nav__link">
        Setup Network policy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_flexvolume/" class="md-nav__link">
        Setup CIFS Volume
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../secure_dockerd/" class="md-nav__link">
        Secure Dockerd
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_secure_etcd/" class="md-nav__link">
        Secure Etcd
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Applications Containers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Applications Containers" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Applications Containers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../applications/list/" class="md-nav__link">
        List of all applications ready to use
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../applicationsformat/" class="md-nav__link">
        Application image format
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../buildapplicationsgnulinux/" class="md-nav__link">
        Build your own abcdesktop GNU/Linux Image
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../buildapplications.wine/" class="md-nav__link">
        Build your own abcdesktop MsWindows Image
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/non-free-applications/" class="md-nav__link">
        Build non free applications
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Configuration Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configuration Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Configuration Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/editconfig/" class="md-nav__link">
        Edit your configuration file
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/stack/" class="md-nav__link">
        Stack mode
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_3" type="checkbox" id="__nav_9_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9_3">
          Authentification
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Authentification" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_3">
          <span class="md-nav__icon md-icon"></span>
          Authentification
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/authentification/" class="md-nav__link">
        config
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_3_2" type="checkbox" id="__nav_9_3_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9_3_2">
          explicit
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="explicit" data-md-level="3">
        <label class="md-nav__title" for="__nav_9_3_2">
          <span class="md-nav__icon md-icon"></span>
          explicit
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/authexplicit/" class="md-nav__link">
        Directory services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/authexplicit-ldap/" class="md-nav__link">
        LDAP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/authexplicit-activedirectory/" class="md-nav__link">
        Active Directory
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/authimplicit/" class="md-nav__link">
        implicit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/authexternal/" class="md-nav__link">
        external
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/authentification-rules/" class="md-nav__link">
        rules
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/desktop/" class="md-nav__link">
        Desktop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/frontjs/" class="md-nav__link">
        Front
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/language/" class="md-nav__link">
        Languages
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_7" type="checkbox" id="__nav_9_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9_7">
          Logging
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Logging" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_7">
          <span class="md-nav__icon md-icon"></span>
          Logging
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/syslog/" class="md-nav__link">
        Syslog
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_8" type="checkbox" id="__nav_9_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9_8">
          Controllers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Controllers" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_8">
          <span class="md-nav__icon md-icon"></span>
          Controllers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/controllers/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/controllers/manager/" class="md-nav__link">
        Manager
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_9" type="checkbox" id="__nav_9_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9_9">
          WebRTC
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="WebRTC" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_9">
          <span class="md-nav__icon md-icon"></span>
          WebRTC
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/webrtc/" class="md-nav__link">
        Pulseaudio
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_10" type="checkbox" id="__nav_9_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9_10">
          Issue tracking
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Issue tracking" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_10">
          <span class="md-nav__icon md-icon"></span>
          Issue tracking
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/jira/" class="md-nav__link">
        Jira
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://groups.google.com/g/abcdesktop" class="md-nav__link">
        Group discussion
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          How-to
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="How-to" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          How-to
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../config/sudo-kubernetes/" class="md-nav__link">
        Get a root access inside a container
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../retrieve_all_images/" class="md-nav__link">
        Get all docker application image for abcdesktop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/docker_macvlan/" class="md-nav__link">
        Bind a specific docker network for an application
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/acl/" class="md-nav__link">
        Define access control for an application
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/update_image/" class="md-nav__link">
        Update and custom frontend image
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/upload_and_download_files/" class="md-nav__link">
        Upload and from files with your desktop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/firefox-extension/" class="md-nav__link">
        Sync clipboard with Mozilla Firefox
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/flash-firefox-esr/" class="md-nav__link">
        Run Adobe Flash player with Mozilla Firefox-esr
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#novnc-description" class="md-nav__link">
    noVNC description
  </a>
  
    <nav class="md-nav" aria-label="noVNC description">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#browser-requirements" class="md-nav__link">
    Browser Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    Features
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-shared-volume-myshared" class="md-nav__link">
    Create a shared volume myshared
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start-the-first-container-myx11server" class="md-nav__link">
    Start the first container myx11server
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-the-ws-tcp-bridge" class="md-nav__link">
    Install the ws-tcp-bridge
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-the-ip-address-on-your-first-container-myx11server" class="md-nav__link">
    Get the ip address on your first container myx11server
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-new-container-webserver" class="md-nav__link">
    Create a new container webserver
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#check-that-the-container-webserver-can-ping-the-container-myx11server" class="md-nav__link">
    Check that the container webserver can ping the container myx11server
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#edit-the-nginx-configuration-file" class="md-nav__link">
    Edit the nginx configuration file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connect-to-your-nginx-website" class="md-nav__link">
    Connect to your nginx website
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-libreoffice-as-a-docker-application" class="md-nav__link">
    Install libreoffice as a docker application
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-the-windows-manager-openbox-on-your-myx11server-container" class="md-nav__link">
    Install the windows manager openbox on your myx11server container
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/abcdesktopio/docs/edit/main/opsdocs/docs/setup/novnc.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="use-novnc-as-vnc-client">Use noVNC as VNC Client</h1>
<h2 id="requirements">Requirements</h2>
<ul>
<li>A running dockerd last version</li>
<li>An access to the docker public registry</li>
<li>An access to the ubuntu repository </li>
<li>An access to the github website to run git clone command</li>
<li>An access to the bintray.com website to download a file</li>
</ul>
<p>AbcDeskopio use the amazing projet noVNC. noVNC is a VNC client JavaScript library. Before you start using noVNC get some information about it:</p>
<h2 id="novnc-description">noVNC description</h2>
<p><a href="https://novnc.com/">noVNC</a> is an open source VNC client. 
noVNC is both a VNC client JavaScript library as well as an application built on top of that library. noVNC runs well in any modern browser including mobile browsers (iOS and Android).
Many companies, projects and products have integrated noVNC including
<a href="http://www.openstack.org">OpenStack</a>,
<a href="http://opennebula.org/">OpenNebula</a>,
<a href="http://libvncserver.sourceforge.net">LibVNCServer</a>, and
<a href="https://cendio.com/thinlinc">ThinLinc</a>. See
<a href="https://github.com/novnc/noVNC/wiki/Projects-and-companies-using-noVNC">the Projects and Companies wiki page</a>
for a more complete list with additional info and links.</p>
<h3 id="browser-requirements">Browser Requirements</h3>
<p>noVNC uses many modern web technologies so a formal requirement list is
not available. However these are the minimum versions we are currently
aware of:</p>
<ul>
<li>Chrome 49, Firefox 44, Safari 11, Opera 36, IE 11, Edge 12</li>
</ul>
<h3 id="features">Features</h3>
<ul>
<li>Supports all modern browsers including mobile (iOS, Android)</li>
<li>Supported VNC encodings: raw, copyrect, rre, hextile, tight, tightPNG</li>
<li>Supports scaling, clipping and resizing the desktop</li>
<li>Local cursor rendering</li>
<li>Clipboard copy/paste</li>
<li>Translations</li>
<li>Licensed mainly under the <a href="http://www.mozilla.org/MPL/2.0/">MPL 2.0</a>, see
  <a href="https://raw.githubusercontent.com/novnc/noVNC/master/LICENSE.txt">the license document</a> for details</li>
</ul>
<h2 id="create-a-shared-volume-myshared">Create a shared volume myshared</h2>
<p>Before creating containers, we need a shared volume, to share data and unix socket between containers.
Run the docker volume create command.</p>
<pre><code>docker volume create myshared 
</code></pre>
<h2 id="start-the-first-container-myx11server">Start the first container myx11server</h2>
<p>Start the first graphical container named <strong>myx11server</strong> and forward the tcp port 6081 to the 6081 container tcp port.</p>
<ul>
<li>The tcp port 6081 will be use later by ws2tcp nodejs server.</li>
<li>The volume myshared is mounted to /tmp</li>
</ul>
<p>Note: We do not need the default 5900 VNC tcp port any more.</p>
<pre><code>docker run -it -v myshared:/tmp --name myx11server -p 6081:6081 ubuntu:latest bash

</code></pre>
<p>You should see a prompt like :</p>
<pre><code>root@6de36e574877:/#
</code></pre>
<p>Install the package wget 
Install the library files for tigervnc. </p>
<p>Package list:</p>
<ul>
<li>libx11-6 xkb-data x11-xkb-utils xauth libfile-readbackwards-perl netbase libaudit1 libbsd0 libgcrypt20 libgl1 libgnutls30 libjpeg8 libpam0g libpixman-1-0 libselinux1 libstdc++6 libsystemd0 libunwind8 libxau6 libxdmcp6 libxfont2 zlib1g libgl1-mesa-dri xfonts-base x11-xserver-utils xfonts-100dpi xfonts-scalable </li>
</ul>
<p>Those packages are used by tigervnc. We need to install them.</p>
<pre><code>apt-get update
apt-get install -y wget
apt-get install -y libx11-6 xkb-data x11-xkb-utils xauth libfile-readbackwards-perl netbase libaudit1 libbsd0 libgcrypt20 libgl1 libgnutls30 libjpeg8 libpam0g libpixman-1-0 libselinux1 libstdc++6 libsystemd0 libunwind8 libxau6 libxdmcp6 libxfont2 zlib1g libgl1-mesa-dri xfonts-base x11-xserver-utils xfonts-100dpi xfonts-scalable 
</code></pre>
<p>Download the last tigervnc X11 graphics server from the bintray.com web site</p>
<pre><code> wget &quot;https://bintray.com/tigervnc/stable/download_file?file_path=tigervnc-1.10.1.x86_64.tar.gz&quot; -O tigervnc-1.10.1.x86_64.tar.gz
</code></pre>
<p>Untar the tigervnc-1.10.1.x86_64.tar.gz file in the container's root file system </p>
<pre><code>cd /
tar -xvf tigervnc-1.10.1.x86_64.tar.gz
cp -r /tigervnc-1.10.1.x86_64/usr/* /usr/
</code></pre>
<p>Start the tigervnc release 1.10.
The tigervnc release 1.10 support the option rfbunixpath used by ws-tcp-bridge in next section</p>
<pre><code>Xvnc :0 -rfbunixpath /tmp/.x11vnc -SecurityTypes=none &amp;
</code></pre>
<p>You should read the output </p>
<pre><code>Xvnc TigerVNC 1.10.0 - built Dec 20 2019 07:12:07
Copyright (C) 1999-2019 TigerVNC Team and many others (see README.rst)
See https://www.tigervnc.org for information on TigerVNC.
Underlying X server release 12001000, The X.Org Foundation


Tue Mar  3 11:05:48 2020
 vncext:      VNC extension running!
 vncext:      Listening for VNC connections on /tmp/.x11vnc (mode 0600)
 vncext:      created VNC server for screen 0
</code></pre>
<p>Check that the Xvnc TigerVNC release is <strong>1.10.0</strong>. </p>
<p>Great, you have installed an X11 server inside a docker container, and the Xvnc server is listening for VNC connections on /tmp/.x11vnc. </p>
<h2 id="install-the-ws-tcp-bridge">Install the ws-tcp-bridge</h2>
<p>ws-tcp-bridge translate websocket to tcp and have to listen on websocket tcp port 6081 and forward to local unix socket unix:/tmp/.x11vnc.</p>
<p>ws-tcp-bridge is a nodejs server, then we need to install nodejs and npm.</p>
<p>Before, install the package gcc g++ make curl </p>
<pre><code>apt-get install -y gcc g++ make curl 
</code></pre>
<p>Install nodejs and npm</p>
<pre><code>curl -sL https://deb.nodesource.com/setup_13.x | bash -
</code></pre>
<pre><code>apt-get install -y nodejs
</code></pre>
<p>Install ws-tcp-bridge</p>
<pre><code>npm install ws-tcp-bridge -g
</code></pre>
<p>Start ws-tcp-bridge with the parameters --method=ws2tcp --lport 6081 --rhost=unix:/tmp/.x11vnc in background </p>
<blockquote>
<p>Add the <code>&amp;</code> at the end of the command line to run this process in background</p>
</blockquote>
<pre><code>/usr/bin/ws-tcp-bridge --method=ws2tcp --lport 6081 --rhost=unix:/tmp/.x11vnc &amp;
</code></pre>
<p>You should read on the standard output</p>
<pre><code>proxy mode ws -&gt; tcp
forwarding port 6081 to unix:/tmp/.x11vnc
</code></pre>
<p>Great, ws-tcp-bridge is running and forward websocket to Xvnc unix socket </p>
<h2 id="get-the-ip-address-on-your-first-container-myx11server">Get the ip address on your first container myx11server</h2>
<p>On the container myx11server, to get the container local IP Address, install the package net-tools package</p>
<pre><code>apt-get install -y net-tools
</code></pre>
<p>And run the ifconfig command </p>
<pre><code>ifconfig eth0
eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 172.17.0.2 netmask 255.255.0.0  broadcast 172.17.255.255
        ether 02:42:ac:11:00:02  txqueuelen 0  (Ethernet)
        RX packets 65149  bytes 95569807 (95.5 MB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 20880  bytes 1159982 (1.1 MB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</code></pre>
<p>Write here the ip address of your container myx11server:</p>
<p>IP Address of myx11server <strong><em>_ . </em></strong><em> . <strong><em>_ . </em></strong></em></p>
<h2 id="create-a-new-container-webserver">Create a new container webserver</h2>
<p>Open a new shell window and start a new docker container named mywebserver, forward the tcp port 80 to the container tcp port 80.</p>
<pre><code>docker run -it --name mywebserver -p 80:80 ubuntu:latest
</code></pre>
<p>You should see a prompt like:</p>
<pre><code>root@96df62a73e4f:/# 
</code></pre>
<p>Install nginx webserver, run the command</p>
<pre><code>apt-get update
apt-get install -y nginx-extras
</code></pre>
<p>Install the git and vim package, run the command</p>
<pre><code>apt-get install -y git vim
</code></pre>
<p>Clone the novnc git on github.com, inside the nginx's root directory.</p>
<pre><code>cd /var/www/html
git clone https://github.com/novnc/noVNC.git
</code></pre>
<p>You should read on the standart output </p>
<pre><code>Cloning into 'noVNC'...
remote: Enumerating objects: 26, done.
remote: Counting objects: 100% (26/26), done.
remote: Compressing objects: 100% (21/21), done.
remote: Total 10395 (delta 8), reused 13 (delta 5), pack-reused 10369
Receiving objects: 100% (10395/10395), 9.01 MiB | 7.15 MiB/s, done.
Resolving deltas: 100% (7310/7310), done.
</code></pre>
<p>Start the nginx web server</p>
<pre><code>nginx
</code></pre>
<p>The web server nginx is running in backgound. </p>
<p>Great, nginx web server is running, now we need to configure the proxy pass rule with the myx11server container's ip address.</p>
<h2 id="check-that-the-container-webserver-can-ping-the-container-myx11server">Check that the container webserver can ping the container myx11server</h2>
<p>Install the ping command, run the command</p>
<pre><code>apt-get install -y iputils-ping
</code></pre>
<p>Get the myx11server container's ip address write before and replace 
xxx.xxx.xxx.xxx with the myx11server container's ip address</p>
<pre><code>ping -c 5 xxx.xxx.xxx.xxx
</code></pre>
<p>In this example, i replace xxx.xxx.xxx.xxx by 172.17.0.2</p>
<pre><code>ping -c 5 172.17.0.2
PING 172.17.0.2 (172.17.0.2) 56(84) bytes of data.
64 bytes from 172.17.0.2: icmp_seq=1 ttl=64 time=0.108 ms
64 bytes from 172.17.0.2: icmp_seq=2 ttl=64 time=0.365 ms
64 bytes from 172.17.0.2: icmp_seq=3 ttl=64 time=0.206 ms
64 bytes from 172.17.0.2: icmp_seq=4 ttl=64 time=0.181 ms
64 bytes from 172.17.0.2: icmp_seq=5 ttl=64 time=0.206 ms

--- 172.17.0.2 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4074ms
rtt min/avg/max/mdev = 0.108/0.213/0.365/0.084 ms
</code></pre>
<p>The container webserver should receive package from the myx11server container</p>
<h2 id="edit-the-nginx-configuration-file">Edit the nginx configuration file</h2>
<p>Edit the nginx configuration file <strong>/etc/nginx/sites-enabled/default</strong> with the vim editor.</p>
<pre><code>vim /etc/nginx/sites-enabled/default
</code></pre>
<p>In the <strong>server</strong> section, after the line location you should found :</p>
<pre><code>    location / {
        # First attempt to serve request as file, then
        # as directory, then fall back to displaying a 404.
        try_files $uri $uri/ =404;
    }
</code></pre>
<p>Add a <strong>/websockify</strong> route to proxyfied the websocket http request to your myx11server container. </p>
<pre><code>    location = /websockify {
        proxy_buffering              off;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header Upgrade         $http_upgrade;
        proxy_set_header Connection      &quot;upgrade&quot;;
        proxy_pass                       http://XXX.XXX.XXX.XXX:6081/;
    }
</code></pre>
<p>You have to replace the line  </p>
<pre><code>proxy_pass       http://XXX.XXX.XXX.XXX:6081/;
</code></pre>
<p>by the ip address of your myx11server container, for example replace <strong>http://XXX.XXX.XXX.XXX:6081/</strong> with <strong>http://172.17.0.2:6081/</strong> </p>
<pre><code>proxy_pass       http://172.17.0.2:6081/;
</code></pre>
<p>The complete server section in the nginx file is for example</p>
<pre><code>server {
    listen 80 default_server;
    listen [::]:80 default_server;

    # SSL configuration
    #
    # listen 443 ssl default_server;
    # listen [::]:443 ssl default_server;
    #
    # Note: You should disable gzip for SSL traffic.
    # See: https://bugs.debian.org/773332
    #
    # Read up on ssl_ciphers to ensure a secure configuration.
    # See: https://bugs.debian.org/765782
    #
    # Self signed certs generated by the ssl-cert package
    # Don't use them in a production server!
    #
    # include snippets/snakeoil.conf;

    root /var/www/html;

    # Add index.php to the list if you are using PHP
    index index.html index.htm index.nginx-debian.html;

    server_name _;

    location / {
        # First attempt to serve request as file, then
        # as directory, then fall back to displaying a 404.
        try_files $uri $uri/ =404;
    }

    location = /websockify {
        proxy_buffering              off;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header Upgrade         $http_upgrade;
        proxy_set_header Connection      &quot;upgrade&quot;;
        proxy_pass           http://172.17.0.2:6081/; # change this line 
    }


    # pass PHP scripts to FastCGI server
    #
    #location ~ \.php$ {
    #   include snippets/fastcgi-php.conf;
    #
    #   # With php-fpm (or other unix sockets):
    #   fastcgi_pass unix:/var/run/php/php7.0-fpm.sock;
    #   # With php-cgi (or other tcp sockets):
    #   fastcgi_pass 127.0.0.1:9000;
    #}

    # deny access to .htaccess files, if Apache's document root
    # concurs with nginx's one
    #
    #location ~ /\.ht {
    #   deny all;
    #}
}
</code></pre>
<p>Now, it's time to reload your nginx configuration, by running the command</p>
<pre><code>nginx -s reload
</code></pre>
<h2 id="connect-to-your-nginx-website">Connect to your nginx website</h2>
<p>Run a web browser like Google Chrome or Firefox and go to your nginx website. If you run the nginx website on a separated host replace the name with your hostname or his ip address.</p>
<p>Go to the URL http://localhost or the ip address of your own server</p>
<blockquote>
<p>In this exercice in use <code>localhost</code> in the screenshot because all containers are running on my desktop, you may have to replace localhost by ip address, or the <code>fully qualified domain name</code> of your own server.</p>
</blockquote>
<pre><code>http://localhost
</code></pre>
<p>or</p>
<pre><code>http://YOUR_SERVER_IP_ADDRESS
</code></pre>
<p>You should read the <strong>Welcome to nginx!</strong> message in your web browser</p>
<p><img alt="chrome-nginx" src="../img/chrome-nginx.png" /></p>
<p>Go to the noVNC URL http://localhost/noVNC/vnc.html</p>
<pre><code>http://localhost/noVNC/vnc.html
</code></pre>
<blockquote>
<p>Remember, remplace localhost by your <code>fully qualified domain name</code> if need</p>
</blockquote>
<p>You should read the <strong>Welcome to nginx!</strong> message in your web browser</p>
<p><img alt="chrome-novnc" src="../img/chrome-novnc.png" /></p>
<p>To change the connection settings, click on the settings icon and choose <strong>Advanced</strong> 
You have to fill the WebSocket properties as follow:</p>
<ul>
<li>The Encrypt is <code>not checked</code></li>
<li>Set the <strong>Host</strong> as <code>localhost</code> (or your host ip address where your contianers are running )</li>
<li>Set the <strong>Port</strong> to <code>80</code></li>
<li>Set the <strong>Path</strong> to <code>/websockify</code></li>
</ul>
<p><img alt="chrome-novnc-settings" src="../img/chrome-novnc-settings.png" /></p>
<p>Then, press the <code>Connect</code> Button</p>
<h2 id="install-libreoffice-as-a-docker-application">Install libreoffice as a docker application</h2>
<p>On your host, where your container myx11server is running.
Open a new shell window and start a new docker container named mylibreoffice.</p>
<pre><code>docker run -it -v myshared:/tmp --name mylibreoffice ubuntu:latest
</code></pre>
<p>You should see a prompt like :</p>
<pre><code>root@96df62a73e4f:/# 
</code></pre>
<p>To install libreoffice application, run the install libreoffice command in your mylibreoffice container.</p>
<pre><code>apt-get update
apt-get install -y libreoffice
</code></pre>
<p>Run the soffice command to start Libreoffice</p>
<pre><code>export DISPLAY=:0.0
soffice --writer
</code></pre>
<p>You should read the output </p>
<pre><code>(soffice:7412): dbind-WARNING **: 16:32:03.928: Couldn't connect to accessibility bus: Failed to connect to socket /tmp/dbus-HN3KrNpoAq: Connection refused
</code></pre>
<p>On the web browser, the application <code>Libreoffice Writer</code> should appear. </p>
<p><img alt="chrome-libreoffice" src="../img/chrome-libreoffice.png" /></p>
<p>Type some text data like 'Hello, I am running inside a docker container'</p>
<p><img alt="chrome-libreoffice-hello" src="../img/chrome-libreoffice-hello.png" /></p>
<h2 id="install-the-windows-manager-openbox-on-your-myx11server-container">Install the windows manager openbox on your myx11server container</h2>
<p>To move, resize, close, the windows applications, we need a windows manager. <code>abcdesktop</code> is the windows manager. <a href="http://www.http://openbox.org/">OpenBox</a> is a lightweight, powerful, and highly configurable stacking window manager with extensive standards support. </p>
<p>Run the install <strong>openbox</strong> command in your myx11server container.</p>
<pre><code>apt-get install -y openbox
</code></pre>
<p>Set the DISPLAY environment variable to :0.0 and start openbox in background</p>
<pre><code>export DISPLAY=:0.0
openbox &amp;
</code></pre>
<p><img alt="chrome-libreoffice-openbox" src="../img/chrome-libreoffice-openbox.png" /></p>
<p>Now, you can move the <code>Libreoffice</code> windows. All windows are decorated. </p>
<p>Great you have installed the novnc gateway, and you just need a HTML Web browser to use a <code>Libreoffice</code> </p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../vnc/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Hands-on with VNC client" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Hands-on with VNC client
            </div>
          </div>
        </a>
      
      
        
        <a href="../../about/play_sound_in_docker/" class="md-footer__link md-footer__link--next" aria-label="Next: Play sound in docker to a webprojet" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Play sound in docker to a webprojet
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.e99e714c.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.bc35569b.min.js"></script>
      
    
  </body>
</html>